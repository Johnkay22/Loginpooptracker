<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Meta Tags -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign Up or Login - Poop Profit | Start Tracking Your Earnings Today</title>
    <meta name="description" content="Sign up or log in to Poop Profit and start tracking how much you earn while you poop at work! Itâ€™s easy, fun, and free!" />
    <meta name="keywords" content="poop tracker, earnings tracker, poop earnings, fun poop tracking, poop profit, profit calculator, work app, paid to poop, on the clock, poop at work, free money, work poop, poop on the job, poop earnings, sign up to poop profit, create account, login poop profit, register"/>
    <link rel="icon" href="https://www.poopprofit.com/favicon.png" type="image/png">

    <!-- Google Tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-R1E17DCKNC"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() {
            dataLayer.push(arguments);
        }
        gtag('js', new Date());
        gtag('config', 'G-R1E17DCKNC');
    </script>

    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Poop Profit Calculator!" />
    <meta name="twitter:description" content="Have you ever wondered how much you make to poop at work?" />
    <meta name="twitter:image" content="https://raw.githubusercontent.com/Johnkay22/Loginpooptracker/main/PPCImage.jpg" />
    <meta name="twitter:site" content="@YourTwitterHandle" />

    <!-- Open Graph Meta Tags -->
    <meta property="og:title" content="Poop Profit Calculator!" />
    <meta property="og:description" content="Have you ever wondered how much you make to poop at work?" />
    <meta property="og:url" content="https://www.poopprofit.com" />
    <meta property="og:type" content="website" />
    <meta property="og:site_name" content="Poop Profit Calculator" />
    <meta property="og:image" content="https://raw.githubusercontent.com/Johnkay22/Loginpooptracker/main/PPCImage.jpg">
    
    <!-- CSS Styling (Original Style with Glow Effect Restored) -->
    <style>
        :root {
            --primary-color: #3498db;
            --secondary-color: #2ecc71;
            --background-color: #1a1a2e;
            --text-color: #e0e0e0;
            --card-background: #16213e;
            --accent-color: #f39c12;
            --glow-color: #3498db;
        }

        body {
            font-family: 'Roboto', sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--background-color);
            color: var(--text-color);
            line-height: 1.6;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .container {
            max-width: 400px;
            margin: 0 auto;
            padding: 20px;
        }

        h1 {
            color: var(--primary-color);
            text-align: center;
            font-weight: 300;
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .emoji {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
        }

        .emoji img {
            width: 200px;
            height: auto;
        }

        .card {
            background-color: var(--card-background);
            border-radius: 10px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            padding: 30px;
            margin-bottom: 30px;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid rgba(255, 255, 255, 0.1);
            position: relative;
        }

        .card.glow::before {
            content: '';
            position: absolute;
            top: -10px;
            left: -10px;
            right: -10px;
            bottom: -10px;
            background: linear-gradient(45deg, var(--glow-color), transparent);
            z-index: -1;
            border-radius: 15px;
            filter: blur(15px);
            opacity: 0.6;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
        }

        input {
            width: 100%;
            padding: 15px;
            margin: 10px 0;
            border: none;
            border-bottom: 2px solid var(--primary-color);
            background-color: transparent;
            color: var(--text-color);
            font-size: 16px;
            transition: border-color 0.3s ease;
        }

        input:focus {
            outline: none;
            border-bottom-color: var(--secondary-color);
        }

        button {
            width: 100%;
            padding: 15px;
            margin: 15px 0;
            border: none;
            border-radius: 50px;
            background-color: var(--primary-color);
            color: white;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.2s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        button:hover {
            background-color: var(--secondary-color);
            transform: scale(1.05);
        }

        #errorMessage {
            color: #e74c3c;
            text-align: center;
            margin-top: 10px;
        }

        .switch-form {
            text-align: center;
            margin-top: 20px;
            color: var(--text-color);
        }

        .switch-form a {
            color: var(--primary-color);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s ease;
        }

        .switch-form a:hover {
            color: var(--secondary-color);
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
</head>

<body>
    <div class="container">
        <h1 class="neon-text">Poop Profit Calculator</h1>
        <h2 class="small-heading">Track how much you make to poop at work!</h2>
        <div class="emoji">
            <img src="https://github.com/Johnkay22/Loginpooptracker/blob/main/POOPPROFITMASCOT1.png?raw=true" alt="Poop Image">
        </div>
        <div class="card glow">
            <div id="loginForm">
                <input type="email" id="loginEmail" placeholder="Email">
                <input type="password" id="loginPassword" placeholder="Password">
                <button id="loginButton">Login</button>
            </div>
            <div id="registerForm" style="display: none;">
                <input type="email" id="registerEmail" placeholder="Email">
                <input type="password" id="registerPassword" placeholder="Password">
                <input type="password" id="confirmPassword" placeholder="Confirm Password">
                <button id="registerButton">Register</button>
            </div>
            <div id="errorMessage"></div>
        </div>
        <div class="switch-form">
            <span id="switchToRegister">Don't have an account? <a href="#">Register</a></span>
            <span id="switchToLogin" style="display: none;">Already have an account? <a href="#">Login</a></span>
        </div>
        <button id="googleSignInButton" class="button">Sign in with Google</button>
    </div>

    <!-- Firebase SDKs -->
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.6.10/firebase-firestore.js"></script>

    <!-- JavaScript Code for Registration, Login, and Google Sign-In -->
    <script>
        // Firebase Configuration
        const firebaseConfig = {
            apiKey: "YOUR_API_KEY",
            authDomain: "YOUR_AUTH_DOMAIN",
            projectId: "YOUR_PROJECT_ID",
            storageBucket: "YOUR_STORAGE_BUCKET",
            messagingSenderId: "YOUR_MESSAGING_SENDER_ID",
            appId: "YOUR_APP_ID",
            measurementId: "YOUR_MEASUREMENT_ID"
        };

        // Initialize Firebase
        firebase.initializeApp(firebaseConfig);

        // Make auth and db globally accessible
        window.auth = firebase.auth();
        window.db = firebase.firestore();

        // Event Listeners and JavaScript Functionality
        document.getElementById('loginButton').addEventListener('click', login);
        document.getElementById('registerButton').addEventListener('click', register);
        document.getElementById('googleSignInButton').addEventListener('click', googleSignIn);

        async function login() {
            const email = document.getElementById('loginEmail').value.trim();
            const password = document.getElementById('loginPassword').value.trim();
            const errorMessage = document.getElementById('errorMessage');

            if (!email || !password) {
                errorMessage.textContent = 'Please enter both email and password.';
                return;
            }

            try {
                const userCredential = await auth.signInWithEmailAndPassword(email, password);
                window.location.href = 'https://www.poopprofit.com/main.html';
            } catch (error) {
                errorMessage.textContent = error.message;
            }
        }

        async function register() {
            const email = document.getElementById('registerEmail').value.trim();
            const password = document.getElementById('registerPassword').value.trim();
            const confirmPassword = document.getElementById('confirmPassword').value.trim();
            const errorMessage = document.getElementById('errorMessage');

            if (!email || !password || password !== confirmPassword) {
                errorMessage.textContent = 'Please fill in all fields and ensure passwords match.';
                return;
            }

            try {
                const userCredential = await auth.createUserWithEmailAndPassword(email, password);
                await db.collection('users').doc(userCredential.user.uid).set({
                    email: userCredential.user.email,
                    poopSessions: [],
                    totalEarnings: 0,
                    salary: 0,
                    hoursPerWeek: 0
                });
                window.location.href = 'https://www.poopprofit.com/main.html';
            } catch (error) {
                errorMessage.textContent = error.message;
            }
        }

        async function googleSignIn() {
            const provider = new firebase.auth.GoogleAuthProvider();
            const errorMessage = document.getElementById('errorMessage');

            try {
                const result = await auth.signInWithPopup(provider);
                const user = result.user;
                const userDoc = await db.collection('users').doc(user.uid).get();

                if (!userDoc.exists) {
                    await db.collection('users').doc(user.uid).set({
                        email: user.email,
                        poopSessions: [],
                        totalEarnings: 0,
                        salary: 0,
                        hoursPerWeek: 0
                    });
                }

                window.location.href = 'https://www.poopprofit.com/main.html';
            } catch (error) {
                errorMessage.textContent = 'Google Sign-In failed. Please try again.';
            }
        }

        // Toggle Login/Register Forms
        const switchToRegister = document.getElementById('switchToRegister');
        const switchToLogin = document.getElementById('switchToLogin');

        switchToRegister.addEventListener('click', (e) => {
            e.preventDefault();
            document.getElementById('loginForm').style.display = 'none';
            document.getElementById('registerForm').style.display = 'block';
            switchToRegister.style.display = 'none';
            switchToLogin.style.display = 'block';
            document.getElementById('errorMessage').textContent = '';
        });

        switchToLogin.addEventListener('click', (e) => {
            e.preventDefault();
            document.getElementById('registerForm').style.display = 'none';
            document.getElementById('loginForm').style.display = 'block';
            switchToLogin.style.display = 'none';
            switchToRegister.style.display = 'block';
            document.getElementById('errorMessage').textContent = '';
        });
    </script>

</body>
</html>
